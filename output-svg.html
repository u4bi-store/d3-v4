<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>u4bi d3 - output svg</title>
        <script src="https://d3js.org/d3.v4.min.js"></script>
        <style>
            body{ background: #F2F2F2; margin: 0; }

            .root{
                margin: auto;
                margin-top : 100px;
                width: 400px;
                height: 400px;
                border: 1px solid #666;
            }

            .bar {
                height: 30px;
                color: green;
                fill: lightgreen;
                stroke: black;
                stroke-width: 1;
            }            
        </style>
    </head>
    <body>



        <div class="root"></div>



        
        <script>
            console.log(d3.version);

            d3.json('model/data.json', (error, json) => {

                let update = d3.select('.root')
                                .append('svg')
                                // .style('width', '100%')
                                // .style('height', '100%')
                                .attr('width', '100%')
                                .attr('height', '100%')
                                .selectAll('rect')
                                .data(json.data)

                let enter = update.enter()
                            .append('rect')
                            .attr('y', (v, i) => i * 33)
                            .style('width', v => v.score+ '%')
                            .attr('class', 'bar')

            });
            
        </script>
    </body>
</html>